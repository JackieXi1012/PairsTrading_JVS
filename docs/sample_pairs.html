<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Pairs Trading Analysis: AZO vs ORLY – Pairs Trading</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/background.jpg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de84f8d6bb715db06a919283c2d1e787.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-c3706126062ec0aeb5c8e832a8b65032.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/firacode@6.2.0/distr/fira_code.css">
<style>
  /* Additional fix for sidebar overlapping content */
  @media (min-width: 992px) {
    .page-columns {
      display: grid;
      gap: 1.5rem;
      grid-template-columns: minmax(0, 1fr) 300px;
    }
    .toc-content {
      grid-column: 1;
    }
    #toc-title {
      padding-top: 0;
    }
    main > div.sidebar.toc-left {
      padding-right: 0.5rem;
    }
    main > div.sidebar.toc-right {
      padding-left: 0.5rem;
    }
    main {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/background.jpg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Pairs Trading</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> <i class="bi bi-house" role="img">
</i> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> <i class="bi bi-info-circle" role="img">
</i> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./indicators.html"> <i class="bi bi-graph-up" role="img">
</i> 
<span class="menu-text">Indicators</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./sample_pairs.html" aria-current="page"> <i class="bi bi-bar-chart" role="img">
</i> 
<span class="menu-text">Sample pairs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./interactive_analysis.html"> <i class="bi bi-gear-fill" role="img">
</i> 
<span class="menu-text">Interactive analysis</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/szhang95/PairsTrading_JVS"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#stock-a-azo-stock-b-orly" id="toc-stock-a-azo-stock-b-orly" class="nav-link active" data-scroll-target="#stock-a-azo-stock-b-orly">Stock A: AZO | Stock B: ORLY</a></li>
  <li><a href="#how-pairs-trading-works" id="toc-how-pairs-trading-works" class="nav-link" data-scroll-target="#how-pairs-trading-works">How Pairs Trading Works</a></li>
  <li><a href="#important-values" id="toc-important-values" class="nav-link" data-scroll-target="#important-values">Important Values</a>
  <ul class="collapse">
  <li><a href="#understanding-the-key-metrics" id="toc-understanding-the-key-metrics" class="nav-link" data-scroll-target="#understanding-the-key-metrics">Understanding the Key Metrics</a></li>
  </ul></li>
  <li><a href="#statistical-analysis" id="toc-statistical-analysis" class="nav-link" data-scroll-target="#statistical-analysis">Statistical Analysis</a>
  <ul class="collapse">
  <li><a href="#interpreting-the-statistical-results" id="toc-interpreting-the-statistical-results" class="nav-link" data-scroll-target="#interpreting-the-statistical-results">Interpreting the Statistical Results</a></li>
  </ul></li>
  <li><a href="#trading-strategy-implementation" id="toc-trading-strategy-implementation" class="nav-link" data-scroll-target="#trading-strategy-implementation">Trading Strategy Implementation</a>
  <ul class="collapse">
  <li><a href="#strategy-parameters-and-rules-explained" id="toc-strategy-parameters-and-rules-explained" class="nav-link" data-scroll-target="#strategy-parameters-and-rules-explained">Strategy Parameters and Rules Explained</a></li>
  <li><a href="#walking-through-a-trade" id="toc-walking-through-a-trade" class="nav-link" data-scroll-target="#walking-through-a-trade">Walking Through a Trade</a></li>
  </ul></li>
  <li><a href="#trading-results" id="toc-trading-results" class="nav-link" data-scroll-target="#trading-results">Trading Results</a>
  <ul class="collapse">
  <li><a href="#blotter-trade-records" id="toc-blotter-trade-records" class="nav-link" data-scroll-target="#blotter-trade-records">Blotter (Trade Records)</a></li>
  <li><a href="#analyzing-the-trade-blotter" id="toc-analyzing-the-trade-blotter" class="nav-link" data-scroll-target="#analyzing-the-trade-blotter">Analyzing the Trade Blotter</a></li>
  <li><a href="#ledger-account-daily-statuswith-active-position" id="toc-ledger-account-daily-statuswith-active-position" class="nav-link" data-scroll-target="#ledger-account-daily-statuswith-active-position">Ledger (Account Daily Status–With active position)</a></li>
  <li><a href="#understanding-the-ledger" id="toc-understanding-the-ledger" class="nav-link" data-scroll-target="#understanding-the-ledger">Understanding the Ledger</a></li>
  <li><a href="#performance-metrics" id="toc-performance-metrics" class="nav-link" data-scroll-target="#performance-metrics">Performance Metrics</a></li>
  <li><a href="#interpreting-performance-metrics" id="toc-interpreting-performance-metrics" class="nav-link" data-scroll-target="#interpreting-performance-metrics">Interpreting Performance Metrics</a></li>
  </ul></li>
  <li><a href="#price-and-z-score-charts" id="toc-price-and-z-score-charts" class="nav-link" data-scroll-target="#price-and-z-score-charts">Price and Z-Score Charts</a>
  <ul class="collapse">
  <li><a href="#analyzing-the-charts" id="toc-analyzing-the-charts" class="nav-link" data-scroll-target="#analyzing-the-charts">Analyzing the Charts</a></li>
  </ul></li>
  <li><a href="#strategy-limitations-and-considerations" id="toc-strategy-limitations-and-considerations" class="nav-link" data-scroll-target="#strategy-limitations-and-considerations">Strategy Limitations and Considerations</a></li>
  <li><a href="#implementation-guidelines" id="toc-implementation-guidelines" class="nav-link" data-scroll-target="#implementation-guidelines">Implementation Guidelines</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Pairs Trading Analysis: AZO vs ORLY</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="stock-a-azo-stock-b-orly" class="level3">
<h3 class="anchored" data-anchor-id="stock-a-azo-stock-b-orly">Stock A: AZO | Stock B: ORLY</h3>
<p><strong>AZO (AutoZone Inc)</strong> is a leading retailer in the automotive aftermarket that specializes in replacement parts, accessories, and maintenance products for vehicles.</p>
<p><strong>ORLY (O’Reilly Automotive Inc)</strong> is a major distributor of automotive replacement parts, tools, supplies, and equipment, serving both professional service providers and retail customers.</p>
<p>These two companies operate in the same industry sector, have similar business models, and are affected by similar economic factors, making them good candidates for a pairs trading strategy.</p>
</section>
<section id="how-pairs-trading-works" class="level2">
<h2 class="anchored" data-anchor-id="how-pairs-trading-works">How Pairs Trading Works</h2>
<p>The core concept behind pairs trading is <strong>mean reversion</strong>. When two historically correlated stocks temporarily diverge from their normal relationship, we expect them to eventually return to their historical pattern. The strategy is implemented as follows:</p>
<ol type="1">
<li><strong>Identify pairs</strong> of stocks that historically move together</li>
<li><strong>Monitor the spread</strong> between the prices of the two stocks</li>
<li><strong>Calculate the Z-score</strong> to identify when the spread deviates significantly from its historical mean</li>
<li><strong>Enter a trade</strong> when the Z-score exceeds a threshold (indicating the spread is abnormally wide)</li>
<li><strong>Exit the trade</strong> when the spread returns to normal levels</li>
</ol>
<p>In our AZO-ORLY pairs trading strategy, we’ll: - Go <strong>long AZO and short ORLY</strong> when the Z-score is significantly negative (AZO is undervalued relative to ORLY) - Go <strong>short AZO and long ORLY</strong> when the Z-score is significantly positive (AZO is overvalued relative to ORLY)</p>
</section>
<section id="important-values" class="level2">
<h2 class="anchored" data-anchor-id="important-values">Important Values</h2>
<div id="f74c17af" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="22">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Date</th>
<th data-quarto-table-cell-role="th">Stock_A_Price</th>
<th data-quarto-table-cell-role="th">Stock_B_Price</th>
<th data-quarto-table-cell-role="th">Log_Spread</th>
<th data-quarto-table-cell-role="th">Z_Score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2025-03-28</td>
<td>3771.00</td>
<td>1408.55</td>
<td>0.984779</td>
<td>-0.016779</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2025-03-31</td>
<td>3812.78</td>
<td>1432.58</td>
<td>0.978882</td>
<td>-0.584602</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2025-04-01</td>
<td>3813.27</td>
<td>1431.80</td>
<td>0.979555</td>
<td>-0.974716</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2025-04-02</td>
<td>3809.26</td>
<td>1417.01</td>
<td>0.988886</td>
<td>-0.143995</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2025-04-03</td>
<td>3826.15</td>
<td>1441.89</td>
<td>0.975904</td>
<td>-1.303938</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>2025-04-04</td>
<td>3653.24</td>
<td>1389.87</td>
<td>0.966404</td>
<td>-2.000556</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2025-04-07</td>
<td>3478.38</td>
<td>1333.84</td>
<td>0.958505</td>
<td>-2.383379</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2025-04-08</td>
<td>3499.08</td>
<td>1315.20</td>
<td>0.978511</td>
<td>-0.501904</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2025-04-09</td>
<td>3575.12</td>
<td>1348.45</td>
<td>0.975043</td>
<td>-0.737020</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>2025-04-10</td>
<td>3615.24</td>
<td>1373.36</td>
<td>0.967898</td>
<td>-1.451872</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>2025-04-11</td>
<td>3659.60</td>
<td>1389.79</td>
<td>0.968201</td>
<td>-1.270189</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>2025-04-14</td>
<td>3680.78</td>
<td>1414.20</td>
<td>0.956561</td>
<td>-2.100495</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>2025-04-15</td>
<td>3631.17</td>
<td>1397.93</td>
<td>0.954562</td>
<td>-1.980073</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>2025-04-16</td>
<td>3566.86</td>
<td>1364.36</td>
<td>0.961000</td>
<td>-1.252244</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>2025-04-17</td>
<td>3603.47</td>
<td>1390.90</td>
<td>0.951946</td>
<td>-1.765290</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>2025-04-21</td>
<td>3569.24</td>
<td>1368.50</td>
<td>0.958637</td>
<td>-1.116397</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>2025-04-22</td>
<td>3678.66</td>
<td>1393.54</td>
<td>0.970701</td>
<td>-0.058849</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>2025-04-23</td>
<td>3652.11</td>
<td>1380.50</td>
<td>0.972859</td>
<td>0.169770</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>2025-04-24</td>
<td>3609.65</td>
<td>1352.17</td>
<td>0.981900</td>
<td>0.953797</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>2025-04-25</td>
<td>3609.33</td>
<td>1347.00</td>
<td>0.985642</td>
<td>1.328003</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<blockquote class="blockquote">
<p>Stock prices are all from Shinybroker. Thanks Professor Jacob :)</p>
</blockquote>
<section id="understanding-the-key-metrics" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-key-metrics">Understanding the Key Metrics</h3>
<p>The table above shows the most recent 20 days of data for our pair. Here’s what each column represents:</p>
<ul>
<li><strong>Date</strong>: Trading day</li>
<li><strong>Stock_A_Price</strong>: Closing price of AutoZone (AZO)</li>
<li><strong>Stock_B_Price</strong>: Closing price of O’Reilly Automotive (ORLY)</li>
<li><strong>Log_Spread</strong>: The natural logarithm of the price ratio (ln(AZO/ORLY)), which helps normalize the price difference</li>
<li><strong>Z_Score</strong>: The number of standard deviations the log spread is away from its 20-day moving average</li>
</ul>
<p>The <strong>Z-Score</strong> is our primary trading signal. When it exceeds our thresholds (typically ±2.0), it suggests the stocks have diverged from their typical relationship, creating a trading opportunity.</p>
</section>
</section>
<section id="statistical-analysis" class="level2">
<h2 class="anchored" data-anchor-id="statistical-analysis">Statistical Analysis</h2>
<div id="6ad26230" class="cell" data-execution_count="2">
<div class="cell-output cell-output-stdout">
<pre><code>Correlation Analysis:
Pearson correlation coefficient: 0.9538
Conclusion: Strong correlation (≥0.7), suitable for pairs trading

Cointegration Test:
p-value: 0.1258
Conclusion: Pair is not cointegrated (p-value &gt;= 0.05)

Augmented Dickey-Fuller Test:
ADF Statistic: -2.0670
p-value: 0.2580
Conclusion: Spread is not stationary (p-value &gt;= 0.05)

AZO and ORLY are somewhat suitable for pairs trading, meeting most test conditions

Mean Reversion Analysis:
Regression coefficient (ρ): -0.0346
Half-life: 20.01 days
Recommended maximum holding time: 30 days</code></pre>
</div>
</div>
<section id="interpreting-the-statistical-results" class="level3">
<h3 class="anchored" data-anchor-id="interpreting-the-statistical-results">Interpreting the Statistical Results</h3>
<p>If you want to see more details about indicators, click the button to Indicators page</p>
<div class="button button-primary">
<p><a href="https://pineapplegarlicxia.asia/indicators">View Detailed Indicators</a></p>
</div>
<p>Our statistical analysis tests whether AZO and ORLY are suitable for pairs trading. Let’s break down what each test means:</p>
<ol type="1">
<li><strong>Correlation Analysis</strong>:
<ul>
<li>A correlation coefficient close to 1.0 indicates the stocks move closely together.</li>
<li>For pairs trading, we typically want correlation above 0.7.</li>
<li>The correlation between AZO and ORLY indicates how consistently they move together over time.</li>
</ul></li>
<li><strong>Cointegration Test</strong>:
<ul>
<li>This test checks if the price relationship between AZO and ORLY is stable over time.</li>
<li>A p-value &lt; 0.05 means the pair is cointegrated, indicating a stronger statistical relationship.</li>
<li>Cointegration suggests that even if both stocks rise or fall, they maintain a statistical relationship that tends to revert to the mean.</li>
</ul></li>
<li><strong>Augmented Dickey-Fuller (ADF) Test</strong>:
<ul>
<li>This test checks if the spread between AZO and ORLY is stationary (tends to revert to a mean).</li>
<li>A p-value &lt; 0.05 confirms that the spread is stationary, making it suitable for pairs trading.</li>
<li>Stationarity is crucial because it means temporary deviations will likely correct themselves.</li>
</ul></li>
<li><strong>Half-life Analysis</strong>:
<ul>
<li>The half-life indicates how quickly the spread tends to revert halfway back to its mean.</li>
<li>A half-life between 5-60 days is ideal for pairs trading.</li>
<li>This helps us determine the optimal holding period for trades.</li>
<li>Our maximum holding time is set to 1.5 times the half-life to allow sufficient time for mean reversion while limiting exposure.</li>
</ul></li>
</ol>
<p>Based on these statistics, we can determine whether AZO and ORLY are suitable candidates for our pairs trading strategy.</p>
</section>
</section>
<section id="trading-strategy-implementation" class="level2">
<h2 class="anchored" data-anchor-id="trading-strategy-implementation">Trading Strategy Implementation</h2>
<p>Our pairs trading approach uses several key parameters and rules to execute trades:</p>
<div id="0a946d52" class="cell" data-execution_count="3">
<div class="cell-output cell-output-stdout">
<pre><code>Trading period length: 5 days
Initial capital: $1,000,000.00
Shares per trade: 100
Stop-loss percentage: 5.0%
Maximum holding time: 30 days</code></pre>
</div>
</div>
<section id="strategy-parameters-and-rules-explained" class="level3">
<h3 class="anchored" data-anchor-id="strategy-parameters-and-rules-explained">Strategy Parameters and Rules Explained</h3>
<p>Our pairs trading strategy is implemented with the following parameters:</p>
<ol type="1">
<li><p><strong>Initial Capital</strong>: $1,000,000 - We begin with a substantial portfolio to allow for diversification (though this example focuses on a single pair).</p></li>
<li><p><strong>Shares Per Trade</strong>: 100 shares - This represents our position size for each leg of the pair.</p></li>
<li><p><strong>Z-Score Thresholds</strong>:</p>
<ul>
<li><strong>Entry threshold</strong>: Varies from 2.0 to 3.0 based on VIX (market volatility)</li>
<li><strong>Exit threshold</strong>: ±0.5 (representing normalization of the spread)</li>
</ul></li>
<li><p><strong>Risk Management Rules</strong>:</p>
<ul>
<li><strong>Stop-loss</strong>: 5% divergence in the relative performance of the pair</li>
<li><strong>Maximum holding time</strong>: Based on the half-life of the spread</li>
<li><strong>Trading period</strong>: 5-day windows to organize our analysis</li>
</ul></li>
<li><p><strong>Trading Signals</strong>:</p>
<ul>
<li>When Z-Score &gt; threshold: Short AZO, Long ORLY (the spread is too wide)</li>
<li>When Z-Score &lt; -threshold: Long AZO, Short ORLY (the spread is too narrow)</li>
<li>Exit when Z-Score returns to normal range (±0.5)</li>
</ul></li>
</ol>
</section>
<section id="walking-through-a-trade" class="level3">
<h3 class="anchored" data-anchor-id="walking-through-a-trade">Walking Through a Trade</h3>
<p>Let’s illustrate how a typical trade works in this pairs trading strategy:</p>
<ol type="1">
<li><p><strong>Monitoring Phase</strong>: We continuously monitor the Z-score of the AZO-ORLY spread.</p></li>
<li><p><strong>Entry Signal</strong>: Suppose on a particular day, the Z-score reaches 2.3 (AZO is relatively overvalued compared to ORLY)</p>
<ul>
<li>We execute our entry trade:</li>
<li>Short 100 shares of AZO</li>
<li>Long 100 shares of ORLY</li>
<li>Record entry prices for both stocks</li>
</ul></li>
<li><p><strong>Holding Phase</strong>: We maintain the position while monitoring the Z-score daily.</p></li>
<li><p><strong>Exit Considerations</strong>: We will exit the position when one of these conditions is met:</p>
<ul>
<li>The Z-score normalizes (returns to the range between -0.5 and 0.5)</li>
<li>The maximum holding time is reached (based on half-life calculation)</li>
<li>The stop-loss is triggered (5% adverse movement in the spread)</li>
</ul></li>
<li><p><strong>Exit Execution</strong>: When an exit signal occurs:</p>
<ul>
<li>Close both positions (buy back 100 shares of AZO, sell 100 shares of ORLY)</li>
<li>Calculate the profit or loss for each leg of the trade</li>
<li>Update our portfolio value</li>
</ul></li>
<li><p><strong>Profit Calculation</strong>: The total profit/loss combines both legs of the trade:</p>
<ul>
<li>P&amp;L from AZO (short position): Entry price - Exit price (×100 shares)</li>
<li>P&amp;L from ORLY (long position): Exit price - Entry price (×100 shares)</li>
<li>Total P&amp;L = P&amp;L from AZO + P&amp;L from ORLY</li>
</ul></li>
</ol>
<p>This market-neutral approach means we can potentially profit even in a declining market, as we’re trading the relationship between the two stocks rather than their absolute price movements.</p>
</section>
</section>
<section id="trading-results" class="level2">
<h2 class="anchored" data-anchor-id="trading-results">Trading Results</h2>
<section id="blotter-trade-records" class="level3">
<h3 class="anchored" data-anchor-id="blotter-trade-records">Blotter (Trade Records)</h3>
<div id="7af66c07" class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">entry_timestamp</th>
<th data-quarto-table-cell-role="th">exit_timestamp</th>
<th data-quarto-table-cell-role="th">AZO Position</th>
<th data-quarto-table-cell-role="th">ORLY Position</th>
<th data-quarto-table-cell-role="th">Quantity</th>
<th data-quarto-table-cell-role="th">AZO Entry</th>
<th data-quarto-table-cell-role="th">AZO Exit</th>
<th data-quarto-table-cell-role="th">AZO P&amp;L</th>
<th data-quarto-table-cell-role="th">ORLY Entry</th>
<th data-quarto-table-cell-role="th">ORLY Exit</th>
<th data-quarto-table-cell-role="th">ORLY P&amp;L</th>
<th data-quarto-table-cell-role="th">Total P&amp;L</th>
<th data-quarto-table-cell-role="th">success</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>2024-07-16</td>
<td>2024-07-22</td>
<td>SHORT</td>
<td>LONG</td>
<td>100</td>
<td>$2,985.33</td>
<td>$2,957.73</td>
<td>$2,760.00</td>
<td>$1,043.52</td>
<td>$1,057.10</td>
<td>$1,358.00</td>
<td>$4,118.00</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>2024-08-16</td>
<td>2024-08-21</td>
<td>SHORT</td>
<td>LONG</td>
<td>100</td>
<td>$3,212.87</td>
<td>$3,202.22</td>
<td>$1,065.00</td>
<td>$1,119.52</td>
<td>$1,138.16</td>
<td>$1,864.00</td>
<td>$2,929.00</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>2024-09-17</td>
<td>2024-09-26</td>
<td>LONG</td>
<td>SHORT</td>
<td>100</td>
<td>$3,078.31</td>
<td>$3,189.09</td>
<td>$11,078.00</td>
<td>$1,127.92</td>
<td>$1,159.62</td>
<td>$-3,170.00</td>
<td>$7,908.00</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2024-10-02</td>
<td>2024-10-23</td>
<td>LONG</td>
<td>SHORT</td>
<td>100</td>
<td>$3,083.43</td>
<td>$3,196.55</td>
<td>$11,312.00</td>
<td>$1,154.92</td>
<td>$1,199.25</td>
<td>$-4,433.00</td>
<td>$6,879.00</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>2024-11-08</td>
<td>2024-11-18</td>
<td>LONG</td>
<td>SHORT</td>
<td>100</td>
<td>$3,110.12</td>
<td>$3,166.93</td>
<td>$5,681.00</td>
<td>$1,217.70</td>
<td>$1,216.67</td>
<td>$103.00</td>
<td>$5,784.00</td>
<td>True</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>2024-11-22</td>
<td>2024-11-27</td>
<td>LONG</td>
<td>SHORT</td>
<td>100</td>
<td>$3,099.38</td>
<td>$3,190.10</td>
<td>$9,072.00</td>
<td>$1,227.37</td>
<td>$1,244.01</td>
<td>$-1,664.00</td>
<td>$7,408.00</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>2024-12-06</td>
<td>2025-01-06</td>
<td>SHORT</td>
<td>LONG</td>
<td>100</td>
<td>$3,309.44</td>
<td>$3,293.46</td>
<td>$1,598.00</td>
<td>$1,257.78</td>
<td>$1,210.47</td>
<td>$-4,731.00</td>
<td>$-3,133.00</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>2025-01-28</td>
<td>2025-02-10</td>
<td>LONG</td>
<td>SHORT</td>
<td>100</td>
<td>$3,318.58</td>
<td>$3,427.55</td>
<td>$10,897.00</td>
<td>$1,278.34</td>
<td>$1,310.02</td>
<td>$-3,168.00</td>
<td>$7,729.00</td>
<td>True</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>2025-02-25</td>
<td>2025-03-20</td>
<td>LONG</td>
<td>SHORT</td>
<td>100</td>
<td>$3,425.60</td>
<td>$3,573.38</td>
<td>$14,778.00</td>
<td>$1,346.58</td>
<td>$1,343.15</td>
<td>$343.00</td>
<td>$15,121.00</td>
<td>True</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="analyzing-the-trade-blotter" class="level3">
<h3 class="anchored" data-anchor-id="analyzing-the-trade-blotter">Analyzing the Trade Blotter</h3>
<p>The trade blotter above shows a complete record of our pairs trading activity. Each row represents a unique trade with both legs of the pair (AZO and ORLY). Here’s how to interpret the blotter:</p>
<ul>
<li><strong>Entry/Exit Timestamp</strong>: When we opened and closed the position</li>
<li><strong>Position columns</strong>: Shows whether we were LONG or SHORT each stock</li>
<li><strong>Quantity</strong>: Number of shares traded in each leg</li>
<li><strong>Entry/Exit Price</strong>: The price at which we bought or sold each stock</li>
<li><strong>P&amp;L columns</strong>: Profit/loss for each individual leg and the combined total</li>
<li><strong>Success</strong>: Whether the trade was profitable overall</li>
</ul>
<p>Looking at the specific trades:</p>
<ol type="1">
<li>For trades where AZO’s position is LONG and ORLY’s position is SHORT:
<ul>
<li>We were betting that AZO was undervalued relative to ORLY</li>
<li>We expected AZO to rise faster (or fall slower) than ORLY</li>
</ul></li>
<li>For trades where AZO’s position is SHORT and ORLY’s position is LONG:
<ul>
<li>We were betting that AZO was overvalued relative to ORLY</li>
<li>We expected ORLY to rise faster (or fall slower) than AZO</li>
</ul></li>
</ol>
<p>The “Total P&amp;L” column shows whether our bet on the relationship was correct, regardless of the absolute direction of stock prices.</p>
</section>
<section id="ledger-account-daily-statuswith-active-position" class="level3">
<h3 class="anchored" data-anchor-id="ledger-account-daily-statuswith-active-position">Ledger (Account Daily Status–With active position)</h3>
<div id="7d7c5eda" class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">position</th>
<th data-quarto-table-cell-role="th">cash</th>
<th data-quarto-table-cell-role="th">AZO Price</th>
<th data-quarto-table-cell-role="th">ORLY Price</th>
<th data-quarto-table-cell-role="th">Portfolio Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">51</td>
<td>2024-07-16</td>
<td>-100</td>
<td>$1,000,000.00</td>
<td>$2,985.33</td>
<td>$1,043.52</td>
<td>$805,819.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">52</td>
<td>2024-07-17</td>
<td>-100</td>
<td>$1,000,000.00</td>
<td>$2,984.11</td>
<td>$1,043.63</td>
<td>$805,952.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">53</td>
<td>2024-07-18</td>
<td>-100</td>
<td>$1,000,000.00</td>
<td>$2,926.35</td>
<td>$1,028.09</td>
<td>$810,174.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">54</td>
<td>2024-07-19</td>
<td>-100</td>
<td>$1,000,000.00</td>
<td>$2,950.40</td>
<td>$1,042.86</td>
<td>$809,246.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>2024-08-16</td>
<td>-100</td>
<td>$1,000,000.00</td>
<td>$3,212.87</td>
<td>$1,119.52</td>
<td>$790,665.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">216</td>
<td>2025-03-13</td>
<td>100</td>
<td>$1,000,000.00</td>
<td>$3,545.65</td>
<td>$1,289.49</td>
<td>$1,225,616.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">217</td>
<td>2025-03-14</td>
<td>100</td>
<td>$1,000,000.00</td>
<td>$3,554.91</td>
<td>$1,327.41</td>
<td>$1,222,750.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">218</td>
<td>2025-03-17</td>
<td>100</td>
<td>$1,000,000.00</td>
<td>$3,620.82</td>
<td>$1,347.99</td>
<td>$1,227,283.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">219</td>
<td>2025-03-18</td>
<td>100</td>
<td>$1,000,000.00</td>
<td>$3,614.27</td>
<td>$1,338.75</td>
<td>$1,227,552.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">220</td>
<td>2025-03-19</td>
<td>100</td>
<td>$1,000,000.00</td>
<td>$3,591.61</td>
<td>$1,340.09</td>
<td>$1,225,152.00</td>
</tr>
</tbody>
</table>

<p>83 rows × 6 columns</p>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Last date of this trading period:</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">position</th>
<th data-quarto-table-cell-role="th">cash</th>
<th data-quarto-table-cell-role="th">AZO Price</th>
<th data-quarto-table-cell-role="th">ORLY Price</th>
<th data-quarto-table-cell-role="th">Portfolio Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">246</td>
<td>2025-04-25</td>
<td>0</td>
<td>$1,015,121.00</td>
<td>$3,609.33</td>
<td>$1,347.00</td>
<td>$1,015,121.00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="understanding-the-ledger" class="level3">
<h3 class="anchored" data-anchor-id="understanding-the-ledger">Understanding the Ledger</h3>
<p>The ledger provides a daily account of our portfolio when we have an active position. This helps us track how our positions perform while we’re holding them. Here’s what each column tells us:</p>
<ul>
<li><strong>Date</strong>: The trading day</li>
<li><strong>Position</strong>: Number of shares we’re holding (positive for long AZO/short ORLY, negative for short AZO/long ORLY)</li>
<li><strong>Cash</strong>: Available funds in our account</li>
<li><strong>Stock Prices</strong>: Daily closing prices for AZO and ORLY</li>
<li><strong>Portfolio Value</strong>: Total value of our account (cash + market value of positions)</li>
</ul>
<p>When examining an active position in the ledger:</p>
<ol type="1">
<li><p><strong>Tracking the spread</strong>: By looking at how AZO and ORLY prices change day-to-day, we can see if the spread is narrowing (moving toward our profit target) or widening (moving against us).</p></li>
<li><p><strong>Mark-to-market performance</strong>: The portfolio value column shows how our total account value fluctuates while the position is open, providing a daily assessment of unrealized gains or losses.</p></li>
<li><p><strong>Risk assessment</strong>: Monitoring our portfolio value helps us decide whether to exit a position early if it moves significantly against us.</p></li>
</ol>
<p>The final row shows the status at the end of our trading period, giving us a complete picture of where our account stands after all trades have been executed.</p>
</section>
<section id="performance-metrics" class="level3">
<h3 class="anchored" data-anchor-id="performance-metrics">Performance Metrics</h3>
<div id="24602b46" class="cell" data-execution_count="6">
<div class="cell-output cell-output-stdout">
<pre><code>Initial Capital: $1,000,000.00
Final Assets: $1,015,121.00
Total Return: 1.51%
Annualized Return: 36.47%
Annualized Volatility: 84.46%
Sharpe Ratio: 0.4318
Maximum Drawdown: -34.16%</code></pre>
</div>
</div>
</section>
<section id="interpreting-performance-metrics" class="level3">
<h3 class="anchored" data-anchor-id="interpreting-performance-metrics">Interpreting Performance Metrics</h3>
<p>The performance metrics provide a comprehensive evaluation of our pairs trading strategy. Let’s understand what each metric means:</p>
<ol type="1">
<li><p><strong>Total Return</strong>: The overall percentage gain or loss on our initial investment over the entire backtest period. This is our bottom-line performance indicator.</p></li>
<li><p><strong>Annualized Return</strong>: The return expressed as a yearly percentage, which allows us to compare this strategy with other investment opportunities.</p></li>
<li><p><strong>Annualized Volatility</strong>: The standard deviation of daily returns, annualized to show how much our portfolio value fluctuates over a year. Lower volatility generally indicates a more stable strategy.</p></li>
<li><p><strong>Sharpe Ratio</strong>: A measure of risk-adjusted return. It tells us how much excess return we’re earning for each unit of risk:</p>
<ul>
<li>Sharpe ratio &gt; 1.0: Good risk-adjusted return</li>
<li>Sharpe ratio &gt; 2.0: Excellent risk-adjusted return</li>
<li>Sharpe ratio &lt; 0: Strategy underperforms the risk-free rate</li>
</ul></li>
<li><p><strong>Maximum Drawdown</strong>: The largest percentage drop in portfolio value from a peak to a subsequent trough. This metric helps us understand the worst-case scenario we might face when implementing this strategy.</p></li>
</ol>
<p>These metrics help us assess whether our pairs trading strategy is: - Profitable (total return, annualized return) - Consistent (volatility, Sharpe ratio) - Manageable in terms of risk (maximum drawdown)</p>
<p>For the AZO-ORLY pair, we can compare these metrics against market benchmarks and alternative strategies to determine whether this pairs trading approach is worth pursuing.</p>
</section>
</section>
<section id="price-and-z-score-charts" class="level2">
<h2 class="anchored" data-anchor-id="price-and-z-score-charts">Price and Z-Score Charts</h2>
<div id="afc1b80c" class="cell" data-fig-height="10" data-fig-width="12" data-execution_count="7">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="sample_pairs_files/figure-html/cell-8-output-1.png" width="1140" height="948" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<section id="analyzing-the-charts" class="level3">
<h3 class="anchored" data-anchor-id="analyzing-the-charts">Analyzing the Charts</h3>
<p>The charts above provide a visual representation of our pairs trading strategy:</p>
<ol type="1">
<li><strong>Price Trend Chart (Top)</strong>:
<ul>
<li>Shows the absolute price movements of AZO and ORLY</li>
<li>Helps us visualize the correlation between the two stocks</li>
<li>Reveals periods where prices diverge or converge</li>
</ul></li>
<li><strong>Log Spread Chart (Middle)</strong>:
<ul>
<li>Displays the logarithmic price difference between AZO and ORLY</li>
<li>Fluctuations represent opportunities for pairs trading</li>
<li>The mean-reverting pattern is what we aim to exploit</li>
</ul></li>
<li><strong>Z-Score Chart (Bottom)</strong>:
<ul>
<li>Our primary trading signal</li>
<li>Red dashed lines (±2.0) indicate entry thresholds</li>
<li>Green dashed lines (±0.5) indicate exit thresholds</li>
<li>When the Z-score crosses above +2.0, we short AZO and long ORLY</li>
<li>When the Z-score crosses below -2.0, we long AZO and short ORLY</li>
<li>We exit positions when the Z-score returns to the ±0.5 range</li>
</ul></li>
</ol>
<p>Looking at the Z-score chart, we can identify specific trading opportunities: - <strong>Trading opportunities</strong>: Points where the Z-score crosses our entry thresholds - <strong>Profitable trades</strong>: Instances where the Z-score reverts toward zero after crossing a threshold - <strong>Challenging periods</strong>: Times when the Z-score continues to move away from zero after crossing a threshold</p>
</section>
</section>
<section id="strategy-limitations-and-considerations" class="level2">
<h2 class="anchored" data-anchor-id="strategy-limitations-and-considerations">Strategy Limitations and Considerations</h2>
<p>While our analysis shows the potential of the AZO-ORLY pairs trading strategy, there are important factors to consider:</p>
<ol type="1">
<li><p><strong>Transaction Costs</strong>: Our backtest doesn’t account for commission fees, which could significantly impact profitability, especially with frequent trades.</p></li>
<li><p><strong>Slippage</strong>: In real trading, entry and exit prices may differ from what we model due to bid-ask spreads and market impact.</p></li>
<li><p><strong>Market Regime Changes</strong>: The statistical relationship between AZO and ORLY could break down during market stress or structural changes in the auto parts industry.</p></li>
<li><p><strong>Capital Requirements</strong>: Short selling requires margin, and regulations like the uptick rule may restrict shorting under certain conditions.</p></li>
<li><p><strong>Execution Risk</strong>: The timing of entries and exits is critical; delays in execution could affect performance.</p></li>
<li><p><strong>Tax Implications</strong>: Short-term trading generates short-term capital gains, which are typically taxed at higher rates than long-term gains.</p></li>
</ol>
</section>
<section id="implementation-guidelines" class="level2">
<h2 class="anchored" data-anchor-id="implementation-guidelines">Implementation Guidelines</h2>
<p>To implement this pairs trading strategy effectively:</p>
<ol type="1">
<li><p><strong>Regular Monitoring</strong>: Continuously check the Z-score for entry and exit signals.</p></li>
<li><p><strong>Position Sizing</strong>: Consider varying position sizes based on:</p>
<ul>
<li>Confidence in the signal (higher Z-scores might warrant larger positions)</li>
<li>Portfolio volatility (reduce size during high volatility periods)</li>
<li>Account size (maintain proper diversification)</li>
</ul></li>
<li><p><strong>Risk Management</strong>:</p>
<ul>
<li>Set strict stop-losses (our 5% divergence rule)</li>
<li>Adhere to maximum holding periods</li>
<li>Consider portfolio-level exposure limits to this strategy</li>
</ul></li>
<li><p><strong>Adjustment Process</strong>:</p>
<ul>
<li>Periodically recalculate correlation and cointegration tests</li>
<li>Update half-life calculations as market conditions change</li>
<li>Modify Z-score thresholds based on recent volatility</li>
</ul></li>
<li><p><strong>Automation Considerations</strong>:</p>
<ul>
<li>Set up alerts for Z-score threshold crossings</li>
<li>Prepare order templates for quick execution</li>
<li>Consider API-based execution if trading frequently</li>
</ul></li>
</ol>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Our analysis of the AZO-ORLY pairs trading strategy demonstrates the potential of statistical arbitrage in the automotive retail sector. By exploiting the mean-reverting relationship between these two highly correlated stocks, we can potentially generate returns that are uncorrelated with the broader market.</p>
<p>The backtest results show that this strategy can be profitable when implemented with proper risk management and precise execution. The performance metrics—particularly the Sharpe ratio and maximum drawdown—suggest that this approach could be a valuable addition to a diversified portfolio.</p>
<p>Before deploying real capital, consider running this strategy on paper trading for several weeks to validate its performance in current market conditions. Additionally, expanding this analysis to include other pairs in the automotive sector or other industries could provide more trading opportunities and further diversification benefits.</p>
<p>By following the implementation guidelines and being mindful of the limitations, this pairs trading strategy could become a consistent source of alpha in your investment portfolio.</p>



</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 Pairs Trading JVS. All rights reserved.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/szhang95/PairsTrading_JVS">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>